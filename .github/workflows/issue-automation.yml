name: Issue Automation (Org Reusable Caller)

on:
  issues:
    types: [opened, edited, reopened, closed, labeled, unlabeled]

permissions:
  contents: read
  issues: write

jobs:
  issue_status_manager:
    name: Status manager (deps + feature rollup)
    uses: Ethan-Personal/.github/.github/workflows/reusable-issue-status-manager.yml@main
    secrets:
      ORG_WORKFLOW_TOKEN: ${{ secrets.ORG_WORKFLOW_TOKEN }}

  project_stage_sync:
    name: Project Stage sync
    uses: Ethan-Personal/.github/.github/workflows/reusable-project-stage-sync.yml@main
    with:
      project_number: ${{ vars.PROJECT_NUMBER }}
    secrets:
      ORG_WORKFLOW_TOKEN: ${{ secrets.ORG_WORKFLOW_TOKEN }}
